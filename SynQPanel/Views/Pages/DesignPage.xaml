<Page
    x:Class="SynQPanel.Views.Pages.DesignPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:components="clr-namespace:SynQPanel.Views.Components"
    
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:SynQPanel"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="clr-namespace:SynQPanel.Models"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="Design"
    d:DesignHeight="450"
    d:DesignWidth="800"
    DataContext="{Binding RelativeSource={RelativeSource self}}"
    ScrollViewer.CanContentScroll="False"
    mc:Ignorable="d">

    <Grid Margin="20,-70,20,10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" MaxWidth="1400">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="570" />
            </Grid.ColumnDefinitions>

            <Border
                Grid.Column="0"
                Margin="0,60,10,0"
                CornerRadius="8">
                <Grid Margin="0,0,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <TabControl
                        Grid.Row="0"
                        Margin="0,10,0,0"
                        TabStripPlacement="Top"
                        Background="#22272e"
                        BorderBrush="#3C888D"
                        BorderThickness="1">
                        <TabControl.Resources>
                            <Style TargetType="TabItem">
                                <Setter Property="Margin" Value="2,0"/>
                                <Setter Property="Padding" Value="10,4"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="Background" Value="#282c34"/>
                                <Setter Property="Foreground" Value="#FFF"/>
                                <Setter Property="BorderBrush" Value="Cyan"/>
                                <Setter Property="BorderThickness" Value="0.8"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="TabItem">
                                            <Border Background="{TemplateBinding Background}"
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    Margin="{TemplateBinding Margin}">
                                                <ContentPresenter
                                                    ContentSource="Header"
                                                    RecognizesAccessKey="True"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Margin="{TemplateBinding Padding}" />
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="Black"/>
                                        <Setter Property="Foreground" Value="White"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TabControl.Resources>

                        <TabItem Width="140">
                            <TabItem.Header>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <Image Width="30" Height="30" Source="/Resources/Images/logo.ico" />
                                    <TextBlock Margin="10,0,0,0" VerticalAlignment="Center" FontWeight="SemiBold" FontSize="16">List</TextBlock>
                                </StackPanel>
                            </TabItem.Header>
                            <Grid>
                                

                                    <!-- Always show sensors control -->
                                <Border Background="#1D1D1D" CornerRadius="0,4,4,4" Visibility="Visible">
                                    <components:AidaSensors Margin="0,0,0,10" />
                                </Border>
                            </Grid>
                        </TabItem>



                        <TabItem>
                            <TabItem.Header>
                                <StackPanel
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">
                                    <Image
                                        Width="30"
                                        Height="30"
                                        Source="/SynQPanel;component/Resources/Images/add.ico" />
                                    <TextBlock
                                        Grid.Column="0"
                                        Margin="10,0,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center">
                                        <Bold FontSize="16" FontWeight="SemiBold">Add-ons</Bold>
                                    </TextBlock>
                                </StackPanel>
                            </TabItem.Header>
                            <Grid>
                                <Border Background="#1D1D1D" CornerRadius="0,4,4,4">
                                    <components:PluginSensors Margin="0,0,0,10" />
                                </Border>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </Border>

            
            
            
            
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <ComboBox
                        Name="ComboBoxSelectedProfile"
                        Grid.Column="0"
                        Width="240"
                        Margin="0,0,0,0"
                        DisplayMemberPath="Name"
                        ItemsSource="{Binding Source={x:Static local:ConfigModel.Instance}, Path=Profiles}"
                        SelectedItem="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedProfile}" />

                    <StackPanel
                        Grid.Column="1"
                        Margin="30,0,0,0"
                        VerticalAlignment="Center">
                        <TextBlock FontSize="12" Foreground="{DynamicResource TextFillColorDisabledBrush}">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="{}W: {0}, H: {1}">
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.Width"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.Height"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                        <TextBlock FontSize="12" Foreground="{DynamicResource TextFillColorDisabledBrush}">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="{}X: {0}, Y: {1}">
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.WindowX"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.WindowY"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>


                    <StackPanel
                        Grid.Column="2"
                        Margin="10,0,0,0"
                        VerticalAlignment="Center">
                        <TextBlock
                            HorizontalAlignment="Right"
                            FontSize="12"
                            Foreground="{DynamicResource TextFillColorDisabledBrush}"
                            Text="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedProfile.TargetWindow.DeviceName, Mode=OneWay}"
                            TextTrimming="CharacterEllipsis" />

                        <TextBlock
                            Margin="0,0,0,0"
                            HorizontalAlignment="Right"
                            FontSize="12"
                            Foreground="{DynamicResource TextFillColorDisabledBrush}">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="{}{0}x{1}">
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.TargetWindow.Width"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                    <Binding
                                        Mode="OneWay"
                                        Path="SelectedProfile.TargetWindow.Height"
                                        Source="{x:Static local:SharedModel.Instance}" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </StackPanel>


                    <ui:ToggleSwitch
                        Grid.Column="3"
                        Margin="10,0,10,0"
                        VerticalAlignment="Center"
                        IsChecked="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedProfile.Active}" />
                </Grid>


                <Border
                    Grid.Row="1"
                    Margin="0,10,0,0"
                    Background="#60121111"
                    BorderBrush="Cyan"
                    BorderThickness="0.5"
                    CornerRadius="10,10,10,10">
                    <components:DisplayItems />
                </Border>

            </Grid>
        </Grid>

        <!--<Expander Grid.Row="1" Background="#601A1a1a" MaxWidth="1000"
                  IsExpanded="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedItem, Converter={StaticResource NullToBooleanConverter}, Mode=OneWay}"
             Margin="0,10,0,0">-->
        <Expander
            Grid.Row="1"
            MaxWidth="1400"
            Margin="0,10,0,10"
            Background="#601A1a1a"
            IsExpanded="True">

            <Expander.Header>
                <Grid Margin="0,0,20,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <Label>
                        <TextBlock FontWeight="Medium" Text="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedItem, Converter={StaticResource SelectedItemTextConverter}}" />
                    </Label>
                    <Button
                        Grid.Column="1"
                        Width="20"
                        Height="20"
                        Margin="10,0,-10,0"
                        Padding="0"
                        VerticalAlignment="Center"
                        Background="Transparent"
                        BorderThickness="0"
                        Command="{Binding UnselectCommand}"
                        Cursor="Hand"
                        Visibility="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedItem, Converter={StaticResource NullToVisibilityConverter}}">
                        <ui:SymbolIcon Symbol="Dismiss24" />
                    </Button>
                </Grid>

            </Expander.Header>

            <Grid Height="320">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>

                <ContentControl
                    Grid.Column="0"
                    Margin="0,0,0,0"
                    Content="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedItem}">
                    <ContentControl.Style>
                        <Style TargetType="ContentControl">
                            <Setter Property="Content" Value="{Binding Source={x:Static local:SharedModel.Instance}, Path=SelectedItem}" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={x:Static RelativeSource.Self}, Path=Content}" Value="{x:Null}">
                                    <Setter Property="ContentControl.Template">
                                        <Setter.Value>
                                            <ControlTemplate>
                                                <Grid Margin="10,0,10,10">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition />
                                                        <ColumnDefinition />
                                                        <ColumnDefinition />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock
                                                        Grid.Column="0"
                                                        Margin="0,0,0,0"
                                                        VerticalAlignment="Stretch"
                                                        AllowDrop="False"
                                                        TextWrapping="Wrap">
                                                        <Bold>Quick Guide:</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>1.</Bold>
                                                        Your gallery defaults such as font type, size and color will be automatically set. Change them at the SynQ Gallery page.<LineBreak /><LineBreak />
                                                        <Bold>2.</Bold>
                                                        Choose between AIDA64 sensors and Add-ons. You can mix and match.<LineBreak /><LineBreak />
                                                        <Bold>3.</Bold>
                                                        Mouse over the icons below the sensor list to find out more.<LineBreak /><LineBreak />
                                                        <Bold>4.</Bold>
                                                        You can swap between sensors by clicking the swap button with a sensor and panel item selected. Works better with the duplicate function.</TextBlock>
                                                    <TextBlock
                                                        Grid.Column="1"
                                                        Margin="10,0,0,0"
                                                        VerticalAlignment="Stretch"
                                                        AllowDrop="False"
                                                        TextWrapping="Wrap">
                                                        <Bold>Tips:</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>1.</Bold>
                                                        All updates are live not auto-saved.<LineBreak /><LineBreak />
                                                        <Bold>2.</Bold> <Bold Foreground="cyan">Remember to save your changes.</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>3.</Bold> <Bold Foreground="DeepSkyBlue">Pressing the revert button will revert to your last saved state.</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>4.</Bold>
                                                        Panel items are drawn over one another in order from top to bottom. Put your background first!<LineBreak /><LineBreak />
                                                        <Bold>5.</Bold>
                                                        Right-sizing your images and gifs will significantly help to reduce resource usage.</TextBlock>
                                                    <TextBlock
                                                        Grid.Column="2"
                                                        Margin="10,0,0,0"
                                                        VerticalAlignment="Stretch"
                                                        AllowDrop="False"
                                                        TextWrapping="Wrap">
                                                        <Bold>Additional Notes:</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>1.</Bold>
                                                        This software is provided on a best effort basis. Expect bugs and/or crashes. You are encouraged to save often. You can manually backup your gallery at<Bold FontWeight="SemiBold" Foreground="LightGray">'%localappdata%\SynQPanel'</Bold>
                                                        <LineBreak /><LineBreak />
                                                        <Bold>2.</Bold>
                                                        Performance and memory usage is largely determined by the number of profiles and <Bold Foreground="Cyan"> size of your images</Bold>
                                                        .<LineBreak /><LineBreak />
                                                        <Bold>3.</Bold>
                                                        AIDA Forums will be used for support, feature requests and to share your designs!<LineBreak />
                                                       
                                                        <Bold Foreground="white">IMPORTANT:</Bold>
                                                        <Bold Foreground="Cyan"> AIDA64 is a registered trademark of FinalWire Ltd. This project is not affiliated with or endorsed by FinalWire. </Bold>
                                                    </TextBlock>
                                                </Grid>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                        
                    </ContentControl.Style>
                    
                    <ContentControl.Resources>
                        <DataTemplate DataType="{x:Type models:GroupDisplayItem}">
                            <components:GroupProperties GroupDisplayItem="{Binding}" />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:GaugeDisplayItem}">
                            <components:CustomProperties GaugeDisplayItem="{Binding}" />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:SensorDisplayItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <components:TextProperties TextDisplayItem="{Binding}" />
                                <components:SensorProperties Grid.Column="1" SensorDisplayItem="{Binding}" />
                            </Grid>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:TableSensorDisplayItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <components:TextProperties TextDisplayItem="{Binding}" />
                                <components:TableSensorProperties Grid.Column="1" TableSensorDisplayItem="{Binding}" />
                            </Grid>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:ClockDisplayItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <components:TextProperties TextDisplayItem="{Binding}" />
                                <components:DateTimeProperties Grid.Column="1" />
                            </Grid>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:CalendarDisplayItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <components:TextProperties TextDisplayItem="{Binding}" />
                                <components:DateTimeProperties Grid.Column="1" />
                            </Grid>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:TextDisplayItem}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <components:TextProperties TextDisplayItem="{Binding}" />
                            </Grid>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:ImageDisplayItem}">
                            <components:ImageProperties />
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:GraphDisplayItem}">
                            <StackPanel Orientation="Vertical">
                                <components:GraphProperties GraphDisplayItem="{Binding}" />
                            </StackPanel>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:BarDisplayItem}">
                            <StackPanel Orientation="Vertical">
                                <components:BarProperties BarDisplayItem="{Binding}" />
                            </StackPanel>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:DonutDisplayItem}">
                            <StackPanel Orientation="Vertical">
                                <components:DonutProperties DonutDisplayItem="{Binding}" />
                            </StackPanel>
                        </DataTemplate>
                        <DataTemplate DataType="{x:Type models:ShapeDisplayItem}">
                            <StackPanel Orientation="Vertical">
                                <components:ShapeProperties ShapeDisplayItem="{Binding}" />
                            </StackPanel>
                        </DataTemplate>
                    </ContentControl.Resources>
                </ContentControl>
                
                

                <StackPanel Grid.Column="1">
                    <components:CommonProperties Margin="10,10,10,10" HorizontalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Expander>
    </Grid>
</Page>
